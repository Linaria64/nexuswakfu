---
import { getCollection } from 'astro:content';

// R√©cup√©rer les donn√©es des collections
const classes = await getCollection('classes');
const donjons = await getCollection('donjons');

// Variable pour le carousel des classes
let currentIndex = 0;

// D√©finir les statistiques du site
const stats = [
  { label: "Classes", value: classes.length, icon: "üë§" },
  { label: "Donjons", value: donjons.filter(d => d.data && d.data.name).length, icon: "üè∞" },
  { label: "Qu√™tes", value: 12, icon: "üìú" }
];

// D√©finir les fonctionnalit√©s
const features = [
  {
    title: "Classes",
    description: "D√©couvrez les 18 classes uniques de Wakfu et leurs sp√©cificit√©s",
    icon: "üë§",
    link: "/classes/"
  },
  {
    title: "Donjons",
    description: "Strat√©gies et astuces pour tous les donjons du niveau 1 au 230",
    icon: "üè∞",
    link: "/donjons/"
  },
  {
    title: "Qu√™tes",
    description: "Parcours des qu√™tes principales et secondaires",
    icon: "üìú",
    link: "/quetes/"
  }
];
---

<div class="min-h-screen">
  <!-- Hero Section avec effet glassmorphism inspir√© du design de r√©f√©rence -->
  <div class="relative min-h-screen flex items-center justify-center overflow-hidden">
    <!-- Arri√®re-plan avec gradient inspir√© de l'image de r√©f√©rence -->
    <div class="absolute inset-0 -z-10 bg-gradient-to-b from-blue-500 via-indigo-600 to-blue-700"></div>
    
    <!-- Formes d√©coratives en arri√®re-plan -->
    <div class="absolute top-0 left-0 w-full h-full overflow-hidden -z-5">
      <!-- Bulles et formes organiques semi-transparentes -->
      <div class="absolute top-[5%] right-[10%] w-64 h-64 rounded-full bg-blue-300/20 blur-2xl"></div>
      <div class="absolute top-[10%] left-[5%] w-96 h-96 rounded-full bg-indigo-400/10 blur-3xl"></div>
      <div class="absolute bottom-[15%] right-[20%] w-80 h-80 rounded-full bg-purple-400/15 blur-2xl"></div>
      <div class="absolute bottom-[5%] left-[15%] w-72 h-72 rounded-full bg-sky-400/10 blur-3xl"></div>
      
      <!-- √âl√©ments avec animation -->
      <div class="absolute top-1/4 right-1/4 w-24 h-24 rounded-full bg-white/10 blur-xl animate-pulse-slow"></div>
      <div class="absolute bottom-1/3 left-1/3 w-32 h-32 rounded-full bg-white/10 blur-xl animate-pulse-slow" style="animation-delay: 1s;"></div>
    </div>
    
    <div class="container mx-auto px-6 relative z-10">
      <div class="flex flex-col items-center justify-center text-center max-w-4xl mx-auto">
        <!-- H√©ader avec glassmorphism subtil pour le titre principal -->
        <h1 class="text-6xl md:text-8xl font-bold mb-6 tracking-tight">
          <span class="text-cyan-300">Nexus</span> 
          <span class="text-white">Wakfu</span>
        </h1>
        
        <!-- Description avec effet glassmorphism -->
        <div class="glass-card bg-white/10 backdrop-blur-md max-w-2xl mx-auto mb-12 p-6 sm:p-8">
          <p class="text-lg md:text-xl text-white/90 leading-relaxed">
            Plongez dans l'univers magique du Monde des Douzes. Explorez, combattez et fa√ßonnez le monde qui vous entoure dans ce MMORPG tactique unique o√π chaque d√©cision compte.
          </p>
        </div>
        
        <!-- CTA Buttons avec style glassmorphism plus subtil qu'avant -->
        <div class="flex flex-wrap gap-6 justify-center">
          <a 
            href="https://naquos.github.io/Gearfu/?itemsId=5580,30223" 
            target="_blank" 
            rel="noopener noreferrer" 
            class="glass-button glass-primary group"
          >
            <span class="relative z-10 flex items-center">Tri Gearfu 
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2 group-hover:translate-x-1 transition-transform duration-300" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"/>
              </svg>
            </span>
          </a>
          <a 
            href="https://zenithwakfu.com" 
            target="_blank" 
            rel="noopener noreferrer" 
            class="glass-button glass-secondary group"
          >
            <span class="relative z-10 flex items-center">Builder Zenith
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2 group-hover:translate-x-1 transition-transform duration-300" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"/>
              </svg>
            </span>
          </a>
        </div>
      </div>
    </div>
    
    <!-- Stats bar avec glassmorphism inspir√© de l'image de r√©f√©rence -->
    <div class="absolute -bottom-20 left-0 right-0 z-20">
      <div class="container mx-auto px-6">
        <!-- Carte principale avec effet glassmorphism -->
        <div class="glass-card bg-white/10 backdrop-blur-md p-1 mx-auto max-w-4xl">
          <div class="grid grid-cols-3 divide-x divide-white/10">
            {stats.map(stat => (
              <div class="relative group py-6 px-4 text-center transition-all duration-300 hover:bg-white/5">
                <!-- Ic√¥ne avec animation subtile -->
                <div class="text-3xl mb-2 text-cyan-300 transition-transform duration-300 transform group-hover:scale-125 group-hover:text-white">
                  {stat.icon}
                </div>
                <!-- Valeur avec effet glassmorphism -->
                <div class="text-3xl font-bold text-white mt-1 mb-1">
                  {stat.value}
                </div>
                <!-- Label -->
                <div class="text-sm text-white/80 group-hover:text-white transition-colors">
                  {stat.label}
                </div>
                
                <!-- Effet visuel sur hover -->
                <div class="absolute left-0 right-0 -bottom-1 h-0.5 bg-cyan-400/0 group-hover:bg-cyan-400/80 transform scale-x-0 group-hover:scale-x-100 transition-all duration-300 origin-center"></div>
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Section Lore avec glassmorphism moderne et √©pur√© -->
  <section class="pt-36 pb-20 relative overflow-hidden z-10">
    <!-- Arri√®re-plan avec image et overlay subtil -->
    <div class="absolute inset-0 -z-10">
      <!-- Couleur de base avec un d√©grad√© plus doux -->
      <div class="absolute inset-0 bg-gradient-to-b from-blue-700 via-indigo-800 to-purple-800 opacity-90"></div>
      <!-- Motif hexagonal subtil en arri√®re-plan -->
      <div class="absolute inset-0 opacity-5" style="background-image: url('/images/patterns/hexagon.svg'); background-size: 50px;"></div>
    </div>
    
    <div class="container mx-auto px-6">
      <!-- En-t√™te de section avec titre principal -->
      <div class="text-center mb-16">
        <!-- Titre principal avec effet glassmorphism subtil -->
        <div class="inline-block glass-card bg-white/5 px-8 py-3 mb-4">
          <h2 class="text-4xl md:text-5xl font-bold tracking-tight">
            L'Histoire de <span class="text-cyan-400">Wakfu</span>
          </h2>
        </div>
        
        <!-- Sous-titre avec effet glassmorphism -->
        <div class="glass-card bg-white/5 max-w-2xl mx-auto p-5">
          <p class="text-xl text-white/90 leading-relaxed">
            Bienvenue dans le Monde des Douze durant l'√àre du Wakfu, environ 1000 ans apr√®s les √©v√©nements connus des h√©ros de l'√àre des Dofus.
          </p>
        </div>
        
        <!-- Bouton d'action -->
        <div class="mt-8">
          <a href="/quetes" class="glass-button glass-primary group inline-flex">
            <span class="relative z-10 flex items-center">Explorer les Qu√™tes 
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2 group-hover:translate-x-1 transition-transform duration-300" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"/>
              </svg>
            </span>
          </a>
        </div>
      </div>
      
      <!-- Cartes informatives avec glassmorphism moderne -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-14">
        <!-- Carte 1 : Le Chaos d'Ogrest -->
        <div class="glass-card bg-white/5 overflow-hidden group transition-all duration-300 hover:bg-white/10 flex flex-col">
          <!-- En-t√™te de carte avec ic√¥ne flottante -->
          <div class="relative pt-8 px-5 text-center">
            <div class="absolute -top-6 left-1/2 transform -translate-x-1/2 w-12 h-12 rounded-full bg-gradient-to-br from-cyan-400/40 to-blue-500/40 flex items-center justify-center backdrop-blur-md border border-white/20">
              <span class="text-2xl group-hover:scale-125 transition-transform duration-300">üìú</span>
            </div>
            <h3 class="text-xl font-bold text-white mb-2">Le Chaos d'Ogrest</h3>
          </div>
          
          <!-- Ligne de s√©paration avec animation -->
          <div class="h-px w-1/3 mx-auto bg-cyan-400/30 group-hover:w-1/2 transition-all duration-500"></div>
          
          <!-- Corps de la carte -->
          <div class="p-5 flex-grow">
            <p class="text-white/80 group-hover:text-white transition-colors duration-300">
              Plong√© dans la folie par l'amour et le pouvoir des six Dofus Primordiaux, l'ogre Ogrest d√©clencha un d√©luge qui changea la face du monde √† jamais.
            </p>
          </div>
          
          <!-- Indicateur interactif -->
          <div class="p-3 text-center transform translate-y-full group-hover:translate-y-0 transition-transform duration-300 bg-cyan-500/10 text-xs text-cyan-300">
            Plus d'informations dans les qu√™tes principales
          </div>
        </div>
        
        <!-- Carte 2 : L'√ânergie du Wakfu -->
        <div class="glass-card bg-white/5 overflow-hidden group transition-all duration-300 hover:bg-white/10 flex flex-col">
          <!-- En-t√™te de carte avec ic√¥ne flottante -->
          <div class="relative pt-8 px-5 text-center">
            <div class="absolute -top-6 left-1/2 transform -translate-x-1/2 w-12 h-12 rounded-full bg-gradient-to-br from-purple-400/40 to-indigo-500/40 flex items-center justify-center backdrop-blur-md border border-white/20">
              <span class="text-2xl group-hover:scale-125 transition-transform duration-300">‚ö°</span>
            </div>
            <h3 class="text-xl font-bold text-white mb-2">L'√ânergie du Wakfu</h3>
          </div>
          
          <!-- Ligne de s√©paration avec animation -->
          <div class="h-px w-1/3 mx-auto bg-purple-400/30 group-hover:w-1/2 transition-all duration-500"></div>
          
          <!-- Corps de la carte -->
          <div class="p-5 flex-grow">
            <p class="text-white/80 group-hover:text-white transition-colors duration-300">
              Le Wakfu, force vitale et cr√©atrice, fa√ßonne les √©cosyst√®mes en reconstruction. Son √©quilibre avec la Stasis est crucial pour l'avenir du monde.
            </p>
          </div>
          
          <!-- Indicateur interactif -->
          <div class="p-3 text-center transform translate-y-full group-hover:translate-y-0 transition-transform duration-300 bg-purple-500/10 text-xs text-purple-300">
            D√©couvrez ce concept dans le jeu
          </div>
        </div>
        
        <!-- Carte 3 : Un Monde Vivant -->
        <div class="glass-card bg-white/5 overflow-hidden group transition-all duration-300 hover:bg-white/10 flex flex-col">
          <!-- En-t√™te de carte avec ic√¥ne flottante -->
          <div class="relative pt-8 px-5 text-center">
            <div class="absolute -top-6 left-1/2 transform -translate-x-1/2 w-12 h-12 rounded-full bg-gradient-to-br from-blue-400/40 to-indigo-500/40 flex items-center justify-center backdrop-blur-md border border-white/20">
              <span class="text-2xl group-hover:scale-125 transition-transform duration-300">üåç</span>
            </div>
            <h3 class="text-xl font-bold text-white mb-2">Un Monde Vivant</h3>
          </div>
          
          <!-- Ligne de s√©paration avec animation -->
          <div class="h-px w-1/3 mx-auto bg-blue-400/30 group-hover:w-1/2 transition-all duration-500"></div>
          
          <!-- Corps de la carte -->
          <div class="p-5 flex-grow">
            <p class="text-white/80 group-hover:text-white transition-colors duration-300">
              Dans cet univers unique, vos actions fa√ßonnent v√©ritablement le monde : l'√©cosyst√®me, l'√©conomie et m√™me la politique sont entre les mains des joueurs.
            </p>
          </div>
          
          <!-- Indicateur interactif -->
          <div class="p-3 text-center transform translate-y-full group-hover:translate-y-0 transition-transform duration-300 bg-blue-500/10 text-xs text-blue-300">
            En savoir plus sur le gameplay
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section Classes avec glassmorphism moderne et √©pur√© -->
  <section class="py-32 relative overflow-hidden z-10">
    <!-- Arri√®re-plan avec motif subtil -->
    <div class="absolute inset-0 -z-10">
      <!-- Couleur de base avec un d√©grad√© plus doux -->
      <div class="absolute inset-0 bg-gradient-to-b from-indigo-900 via-purple-900 to-blue-900 opacity-90"></div>
      
      <!-- Motif en background pour ajouter de la texture -->
      <div class="absolute inset-0 opacity-5" style="background-image: url('/images/patterns/circuit.svg'); background-size: 100px;"></div>
      
      <!-- Formes g√©om√©triques pour la profondeur -->
      <div class="absolute top-1/4 right-1/4 w-72 h-72 rounded-full bg-purple-600/5 blur-3xl"></div>
      <div class="absolute bottom-1/4 left-1/4 w-72 h-72 rounded-full bg-blue-600/5 blur-3xl"></div>
    </div>
    
    <div class="container mx-auto px-6">
      <!-- En-t√™te moderne avec glassmorphism -->
      <div class="text-center mb-16">
        <!-- Titre principal avec effet glassmorphism subtil -->
        <div class="inline-block glass-card bg-white/5 px-8 py-3 mb-4">
          <h2 class="text-4xl md:text-5xl font-bold tracking-tight">
            Les <span class="text-cyan-400">Classes</span> de Wakfu
          </h2>
        </div>
        
        <!-- Sous-titre avec effet glassmorphism -->
        <div class="glass-card bg-white/5 max-w-2xl mx-auto p-5 mb-8">
          <p class="text-xl text-white/90 leading-relaxed">
            D√©couvrez les 18 classes uniques du monde de Wakfu, chacune avec ses propres comp√©tences et strat√©gies.
          </p>
        </div>
        
        <!-- Bouton d'action -->
        <a href="/classes" class="glass-button glass-cyan group inline-flex">
          <span class="relative z-10 flex items-center">Voir Toutes Les Classes 
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2 group-hover:translate-x-1 transition-transform duration-300" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"/>
                  </div>
                  
                  <!-- Ligne de s√©paration avec animation -->
                  <div class="h-px w-1/3 mx-auto bg-cyan-400/30 group-hover:w-1/2 transition-all duration-500 mb-3"></div>
                  
                  <!-- Corps de la carte -->
                  <div class="p-4 flex-grow">
                    <p class="text-sm text-white/70 text-center group-hover:text-white/90 transition-colors duration-300">
                      {classes[currentIndex]?.data?.description || 'Description de la classe'}
                    </p>
                  </div>
                  
                  <!-- Pied de carte avec bouton -->
                  <div class="p-4 text-center bg-gradient-to-b from-transparent to-white/5">
                    <a 
                      href={`/classes/${classes[currentIndex]?.slug || ''}`}
                      class="glass-button glass-small glass-cyan inline-flex items-center justify-center w-full"
                    >
                      <span class="flex items-center">
                        D√©tails 
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform duration-300" viewBox="0 0 20 20" fill="currentColor">
                          <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"/>
                        </svg>
                      </span>
                    </a>
                  </div>
                </div>
              </div>
          </div>
          
          <!-- Contr√¥les de navigation modernois√©s -->
          <button class="absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 glass-button glass-round z-20 flex items-center justify-center" id="prevClass">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
            </svg>
          </button>
          <button class="absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 glass-button glass-round z-20 flex items-center justify-center" id="nextClass">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
            </svg>
          </button>
          
          <!-- Indicateurs de diapositives modernois√©s -->
          <div class="absolute -bottom-1 left-0 right-0 flex justify-center gap-2 py-3">
            {classes.map((_, index) => (
              <button 
                class="carousel-indicator w-8 h-1 rounded-full bg-white/20 transition-all duration-300" 
                data-index={index}
                aria-label={`Slide ${index + 1}`}
              ></button>
            ))}
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section Call to Action moderne avec glassmorphism -->
  <section class="py-32 relative overflow-hidden z-10">
    <!-- Arri√®re-plan avec effet visuel sophistiqu√© -->
    <div class="absolute inset-0 -z-10">
      <!-- D√©grad√© de couleur profond -->
      <div class="absolute inset-0 bg-gradient-to-b from-blue-800 via-indigo-900 to-purple-900 opacity-90"></div>
      
      <!-- Motif g√©om√©trique subtil -->
      <div class="absolute inset-0 opacity-5" style="background-image: url('/images/patterns/dots.svg'); background-size: 30px;"></div>
      
      <!-- √âl√©ments d√©coratifs pour plus de profondeur -->
      <div class="absolute top-1/4 right-1/3 w-96 h-96 rounded-full bg-cyan-600/5 blur-3xl animate-pulse-slow"></div>
      <div class="absolute bottom-1/4 left-1/3 w-96 h-96 rounded-full bg-blue-600/5 blur-3xl animate-pulse-slow" style="animation-delay: 1.5s;"></div>
    </div>
    
    <div class="container mx-auto px-6">
      <!-- Carte CTA principale avec glassmorphism am√©lior√© -->
      <div class="glass-card bg-white/10 max-w-4xl mx-auto relative overflow-hidden">
        <!-- √âl√©ment d√©coratif sup√©rieur -->
        <div class="absolute -top-20 -right-20 w-40 h-40 rounded-full bg-cyan-400/10 blur-2xl"></div>
        <!-- √âl√©ment d√©coratif inf√©rieur -->
        <div class="absolute -bottom-20 -left-20 w-40 h-40 rounded-full bg-blue-400/10 blur-2xl"></div>
        
        <div class="py-12 px-8 relative z-10">
          <!-- Titre principal avec effet moderne -->
          <h2 class="text-4xl md:text-5xl font-bold mb-6 text-white">
            Rejoignez l'Aventure <span class="text-cyan-400">D√®s Maintenant</span>
          </h2>
          
          <!-- Ligne s√©paratrice anim√©e -->
          <div class="h-1 w-20 bg-gradient-to-r from-cyan-500/70 to-blue-500/70 mx-auto mb-8 rounded-full"></div>
          
          <!-- Texte descriptif -->
          <p class="text-xl text-white/80 leading-relaxed mb-10 max-w-2xl mx-auto">
            Plongez dans l'univers fascinant de Wakfu, fa√ßonnez le monde selon vos choix et devenez une l√©gende dans cette aventure √©pique.
          </p>
          
          <!-- Boutons d'action -->
          <div class="flex flex-col sm:flex-row gap-6 justify-center">
            <!-- Bouton principal -->
            <a href="https://www.wakfu.com/fr/mmorpg/telecharger" class="glass-button glass-primary group inline-flex">
              <span class="relative z-10 flex items-center">
                T√©l√©charger Wakfu 
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2 group-hover:translate-y-1 transition-transform duration-300" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />
                </svg>
              </span>
            </a>
            
            <!-- Bouton secondaire -->
            <a href="/donjons" class="glass-button glass-secondary group inline-flex">
              <span class="relative z-10 flex items-center">
                Explorer les Donjons
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2 group-hover:translate-x-1 transition-transform duration-300" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
                </svg>
              </span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
